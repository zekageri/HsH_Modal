class hsModal extends HTMLElement{openBtn=null;closeBtn=null;id=null;closeCb=null;openCb=null;innerDiv=null;lastScrollPos=0;MAX_SCROLL_POS=150;connectedCallback(){this.id=this.getAttribute("id"),this.id?(this.openBtn=document.querySelector(`.hs-Modal-Btn.open[target="#${this.id}"]`),this.closeBtn=this.querySelector(".hs-Modal-Btn.close"),this.innerDiv=this.querySelector(".hs-Modal-Inner"),this.title=this.querySelector(".hs-Modal-Title").innerHTML,this.openEvtHandler(),this.closeEvtHandler(),this.scrollEvtHandler()):console.error("[HSH-Modal] - Modal should have an ID.")}scrollEvtHandler(){let e=this.querySelector(".hs-Modal-Header"),t=this;this.innerDiv.addEventListener("scroll",(function(s){let l=this.scrollTop;l>=t.MAX_SCROLL_POS?l<t.lastScrollPos?e.classList.remove("scrolled"):e.classList.contains("scrolled")||e.classList.add("scrolled"):l<t.MAX_SCROLL_POS&&e.classList.remove("scrolled"),t.lastScrollPos=l}))}on(e,t){"close"==e?this.closeCb=t:"open"==e?this.openCb=t:console.warn(`[HSH-Modal] - No such event type on HsH Modal. Event: ${e}`)}openEvtHandler(){let e=this;this.openBtn.addEventListener("click",(function(t){t.preventDefault(),e.open()}))}closeEvtHandler(){let e=this;this.closeBtn.addEventListener("click",(function(t){t.preventDefault(),e.close()})),this.addEventListener("click",(function(t){t.target.closest(".hs-Modal-Inner")||e.close()}))}close(e=!0){this.closeCb&&e&&this.closeCb(this.id),this.classList.remove("open")}open(e=!0){this.openCb&&e&&this.openCb(this.id),this.classList.add("open")}setTitle(e){return this.querySelector(".hs-Modal-Title").innerHTML=e,this.title=e,e}getTitle(){return this.title}getID(){return this.id}}customElements.define("hs-modal",hsModal);
