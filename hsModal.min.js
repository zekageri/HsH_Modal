class hsModal extends HTMLElement{openBtn=null;closeBtn=null;id=null;closeCb=null;openCb=null;innerDiv=null;lastScrollPos=0;MAX_SCROLL_POS=150;connectedCallback(){this.id=this.getAttribute("id"),this.id?(this.openBtn=document.querySelector(`.hs-Modal-Btn.open[target="#${this.id}"]`),this.closeBtn=this.querySelector(".hs-Modal-Btn.close"),this.innerDiv=this.querySelector(".hs-Modal-Inner"),this.openEvtHandler(),this.closeEvtHandler(),this.scrollEvtHandler()):console.error("[HSH-Modal] - Modal should have an ID.")}scrollEvtHandler(){let e=this.querySelector(".hs-Modal-Header"),s=this;this.innerDiv.addEventListener("scroll",(function(l){let t=this.scrollTop;t>=s.MAX_SCROLL_POS?t<s.lastScrollPos?e.classList.remove("scrolled"):e.classList.contains("scrolled")||e.classList.add("scrolled"):t<s.MAX_SCROLL_POS&&e.classList.remove("scrolled"),s.lastScrollPos=t}))}on(e,s){"close"==e?this.closeCb=s:"open"==e?this.openCb=s:console.warn(`[HSH-Modal] - No such event type on HsH Modal. Event: ${e}`)}openEvtHandler(){let e=this;this.openBtn.addEventListener("click",(function(s){s.preventDefault(),e.open()}))}closeEvtHandler(){let e=this;this.closeBtn.addEventListener("click",(function(s){s.preventDefault(),e.close()})),this.addEventListener("click",(function(s){s.target.closest(".hs-Modal-Inner")||e.close()}))}close(e=!0){this.closeCb&&e&&this.closeCb(this.id),this.classList.remove("open")}open(e=!0){this.openCb&&e&&this.openCb(this.id),this.classList.add("open")}}customElements.define("hs-modal",hsModal);
